% -*- latex -*-
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%
%%%% This text file is part of the lecture slides for
%%%% `Parallel Programming in MPI and OpenMP'
%%%% by Victor Eijkhout, copyright 2012-2024
%%%%
%%%% OmpOther-slides.tex : remaining OpenMP topics
%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{numberedframe}{Affinity}
  \indexompshow{OMP_PROC_BIND}
  \indexompshow{OMP_PLACES}
\end{numberedframe}

\begin{numberedframe}{False sharing}
  
\end{numberedframe}

\begin{numberedframe}{Affinity}
  How do you place threads on cores?
  \begin{itemize}
  \item Two socket design NUMA
  \item Intel KNL has quadrants and hardware multi-threading
  \item \indextermtt{OMP_PROC_BIND} and \indextermtt{OMP_PLACES}
  \end{itemize}
\end{numberedframe}

%\includepdf{amask.pdf}

\begin{numberedframe}{Accelerators}
  OpenMP 4 has mechanisms for offloading.
\end{numberedframe}

\begin{numberedframe}{SIMD}
  Processors have 4 or 8-wide SIMD.\\
  convert OpenMP loop to SIMD vector instructions.
\end{numberedframe}

\endinput

\begin{numberedframe}{}
  \begin{itemize}
  \item 
  \end{itemize}
\end{numberedframe}

